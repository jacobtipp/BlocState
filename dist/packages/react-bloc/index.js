"use strict";var be=Object.defineProperty;var Re=(e,t,r)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var te=(e,t,r)=>(Re(e,typeof t!="symbol"?t+"":t,r),r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const B=require("react/jsx-runtime"),j=require("@jacobtipp/bloc"),d=require("react"),_=require("rxjs");function Le(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const w=Le(d),fe=()=>!1,A=()=>!0,de=()=>!1,pe=e=>e,ve=()=>!0,J=e=>{const t=d.useContext(P);if(!t)throw new Error("a contextMap does not exist");const r=t.get(e.name);if(!r)throw new Error(`${e.name} does not exist in the context map.`);return d.useContext(r).instance},D=e=>J(e);function we(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z={exports:{}},F={},g={exports:{}},H={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re;function xe(){if(re)return H;re=1;var e=d;function t(f,i){return f===i&&(f!==0||1/f===1/i)||f!==f&&i!==i}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,u=e.useLayoutEffect,s=e.useDebugValue;function c(f,i){var E=i(),m=n({inst:{value:E,getSnapshot:i}}),O=m[0].inst,y=m[1];return u(function(){O.value=E,O.getSnapshot=i,a(O)&&y({inst:O})},[f,E,i]),o(function(){return a(O)&&y({inst:O}),f(function(){a(O)&&y({inst:O})})},[f]),s(E),E}function a(f){var i=f.getSnapshot;f=f.value;try{var E=i();return!r(f,E)}catch{return!0}}function p(f,i){return i()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return H.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,H}var $={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne;function Be(){return ne||(ne=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=d,t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(h){{for(var v=arguments.length,R=new Array(v>1?v-1:0),S=1;S<v;S++)R[S-1]=arguments[S];n("error",h,R)}}function n(h,v,R){{var S=t.ReactDebugCurrentFrame,b=S.getStackAddendum();b!==""&&(v+="%s",R=R.concat([b]));var x=R.map(function(L){return String(L)});x.unshift("Warning: "+v),Function.prototype.apply.call(console[h],console,x)}}function o(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var u=typeof Object.is=="function"?Object.is:o,s=e.useState,c=e.useEffect,a=e.useLayoutEffect,p=e.useDebugValue,l=!1,f=!1;function i(h,v,R){l||e.startTransition!==void 0&&(l=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var S=v();if(!f){var b=v();u(S,b)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),f=!0)}var x=s({inst:{value:S,getSnapshot:v}}),L=x[0].inst,T=x[1];return a(function(){L.value=S,L.getSnapshot=v,E(L)&&T({inst:L})},[h,S,v]),c(function(){E(L)&&T({inst:L});var N=function(){E(L)&&T({inst:L})};return h(N)},[h]),p(S),S}function E(h){var v=h.getSnapshot,R=h.value;try{var S=v();return!u(R,S)}catch{return!0}}function m(h,v,R){return v()}var O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y=!O,C=y?m:i,W=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:C;$.useSyncExternalStore=W,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),$}var oe;function Se(){return oe||(oe=1,process.env.NODE_ENV==="production"?g.exports=xe():g.exports=Be()),g.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ue;function Ce(){if(ue)return F;ue=1;var e=d,t=Se();function r(p,l){return p===l&&(p!==0||1/p===1/l)||p!==p&&l!==l}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,u=e.useRef,s=e.useEffect,c=e.useMemo,a=e.useDebugValue;return F.useSyncExternalStoreWithSelector=function(p,l,f,i,E){var m=u(null);if(m.current===null){var O={hasValue:!1,value:null};m.current=O}else O=m.current;m=c(function(){function C(S){if(!W){if(W=!0,h=S,S=i(S),E!==void 0&&O.hasValue){var b=O.value;if(E(b,S))return v=b}return v=S}if(b=v,n(h,S))return b;var x=i(S);return E!==void 0&&E(b,x)?b:(h=S,v=x)}var W=!1,h,v,R=f===void 0?null:f;return[function(){return C(l())},R===null?void 0:function(){return C(R())}]},[l,f,i,E]);var y=o(p,m[0],m[1]);return s(function(){O.hasValue=!0,O.value=y},[y]),a(y),y},F}var U={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se;function De(){return se||(se=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=d,t=Se();function r(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,u=e.useRef,s=e.useEffect,c=e.useMemo,a=e.useDebugValue;function p(l,f,i,E,m){var O=u(null),y;O.current===null?(y={hasValue:!1,value:null},O.current=y):y=O.current;var C=c(function(){var R=!1,S,b,x=function(M){if(!R){R=!0,S=M;var K=E(M);if(m!==void 0&&y.hasValue){var G=y.value;if(m(G,K))return b=G,G}return b=K,K}var ye=S,k=b;if(n(ye,M))return k;var q=E(M);return m!==void 0&&m(k,q)?k:(S=M,b=q,q)},L=i===void 0?null:i,T=function(){return x(f())},N=L===null?void 0:function(){return x(L())};return[T,N]},[f,i,E,m]),W=C[0],h=C[1],v=o(l,W,h);return s(function(){y.hasValue=!0,y.value=v},[v]),a(v),v}U.useSyncExternalStoreWithSelector=p,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),U}process.env.NODE_ENV==="production"?z.exports=Ce():z.exports=De();var We=z.exports;const Te=we(We),I=(()=>j.isServer()?d.useEffect:d.useLayoutEffect)(),he=d.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),{useSyncExternalStoreWithSelector:Me}=Te,ge=(e,t)=>{const r=t.suspendWhen,n=t.errorWhen,[{shouldSuspend:o},u]=d.useState(()=>({shouldSuspend:r(e.state)})),s=d.useRef(e.state),c=d.useRef(null),a=d.useRef(null),p=()=>_.firstValueFrom(e.state$.pipe(_.startWith(e.state),_.filter(l=>!r(e.state)||!r(l)))).then(()=>{c.current=null,s.current=null}).catch(()=>{c.current=null,s.current=null});if(o&&!c.current&&s.current&&(c.current=p()),I(()=>(a.current=e.state$.pipe(_.startWith(e.state)).subscribe(l=>{r(l)&&(s.current=l,u({shouldSuspend:!0}))}),()=>{var l;(l=a.current)==null||l.unsubscribe(),a.current=null}),[e]),n(e.state))throw new Ee(e.state);c.current&&he(c.current)},_e=(e,t)=>{const r=D(e),n=(t==null?void 0:t.selector)??pe,o=(t==null?void 0:t.listenWhen)??A,u=(t==null?void 0:t.suspendWhen)??fe,s=(t==null?void 0:t.errorWhen)??de;ge(r,{suspendWhen:u,errorWhen:s});const c=d.useCallback(p=>{const l=r.state$.pipe(_.startWith(r.state),_.distinctUntilChanged(),_.filter(f=>o(f)),_.map(f=>n(f)),_.distinctUntilChanged()).subscribe(()=>setTimeout(()=>p(),0));return()=>{l.unsubscribe()}},[r]),a=Me(c,()=>r.state,()=>r.state,n);return d.useDebugValue(a),a};class Ee extends Error{constructor(r,n){super("useBlocSelector: errorWhen triggered a new render Error");te(this,"name","BlocRenderError");this.state=r}}const Ve=(e,t)=>{const r=_e(e,t),n=D(e);return[r,n]},Q=(e,{listener:t,listenWhen:r})=>{const n=D(e),o=r??A,u=d.useRef(null);I(()=>(u.current=n.state$.pipe(_.startWith(n.state),_.pairwise(),_.filter(([s,c])=>!j.Bloc.ignoreListeners&&o(s,c)),_.map(([s,c])=>t(n,c))).subscribe(),()=>{var s;(s=u.current)==null||s.unsubscribe(),u.current=null}),[n])},je=e=>{const t=D(e),r=d.useCallback(o=>{const u=t.state$.subscribe(o);return()=>u.unsubscribe()},[t]),n=d.useSyncExternalStore(r,()=>t.state,()=>t.state);return d.useDebugValue(n),n},Ae=e=>J(e),Ie=(e,{listener:t,listenWhen:r},n)=>{const o=r??A,u=d.useRef(null),s=d.useRef(null);d.useEffect(()=>{var c;(c=s.current)==null||c.next(e)},[e]),I(()=>(s.current=new _.Subject,u.current=s.current.pipe(_.startWith(e),_.pairwise(),_.filter(([c,a])=>!j.Bloc.ignoreListeners&&o(c,a)),_.map(([c,a])=>t(a))).subscribe(),()=>{var c,a;(c=u.current)==null||c.unsubscribe(),u.current=null,(a=s.current)==null||a.complete(),s.current=null}),n??[])};function Pe({bloc:e,listener:t,listenWhen:r,children:n}){return Q(e,{listener:t,listenWhen:r}),B.jsxs(B.Fragment,{children:[" ",n," "]})}const Oe=new Map,P=d.createContext(void 0),Ne=({children:e})=>d.createElement(P.Provider,{value:j.isServer()?new Map:Oe},e);var X=()=>w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current,ce=Symbol.for("react.strict_mode"),Ke=()=>{if(process.env.NODE_ENV==="production")return!1;const e=w.useRef(void 0),t=w.useMemo(()=>Number(w.version.split(".")[0]),[w.version]);if(isNaN(t)||t<18)return!1;if(e.current===void 0){let r=X();for(;r&&r.return;)r=r.return,(r.type===ce||r.elementType===ce)&&(e.current=!0)}return!!e.current},ie=new WeakSet;function Ge(e,t){const r=X();w.useEffect(()=>{if(!ie.has(r)){ie.add(r),e();return}return e()},t)}var ae=new WeakSet;function ke(e,t){return w.useMemo(()=>{const r=X();return ae.has(r)?e():(ae.add(r),null)},t)}function qe(e,t){var r;const n=Ke()&&process.env.NODE_ENV!=="production",o=n?ke:w.useMemo,u=n?Ge:w.useEffect,[s,c]=(r=o(()=>e(),t))!=null?r:[null,()=>null];return u(()=>c,t),s}const V=new WeakSet,Z=({children:e,classDef:t,dependencies:r=[],disposeTime:n=5*1e3,create:o,onMount:u,onUnmount:s})=>{const c=typeof o=="function",a=()=>{const i=c?o():o;return c&&setTimeout(()=>{V.has(i)||s==null||s(i)},n),i},p=qe(()=>{const i=a();return[i,()=>{s==null||s(i)}]},r);d.useEffect(()=>{const i=p;return u==null||u(i),!V.has(i)&&c&&V.add(i),()=>{V.delete(i)}},[p]);const l=d.useContext(P),f=d.useMemo(()=>{let i=l.get(t.name);return i||(i=d.createContext({instance:p}),l.set(t.name,i),i)},[]);return d.createElement(f.Provider,{value:{instance:p}},e)},ee=({providers:e,children:t})=>{const r=d.useMemo(()=>e.map(o=>({children:u})=>B.jsx(o,{children:u})),[]),n=d.useMemo(()=>r.reduce((o,u)=>({children:s})=>B.jsx(o,{children:B.jsx(u,{children:s})}),({children:o})=>B.jsx(B.Fragment,{children:o})),[r]);return B.jsx(n,{children:t})},Fe=({bloc:e,children:t,dependencies:r=[],create:n,onMount:o})=>Z({classDef:e,create:n,onMount:o,onUnmount:u=>{typeof n=="function"&&u.close()},dependencies:r,children:t}),He=({providers:e,children:t})=>ee({providers:e,children:t});function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Y(e,t)}function $e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Y(e,t)}var Ue=function(t,r){return t===void 0&&(t=[]),r===void 0&&(r=[]),t.length!==r.length||t.some(function(n,o){return!Object.is(n,r[o])})},le={error:null},ze=function(e){$e(t,e);function t(){for(var n,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=e.call.apply(e,[this].concat(u))||this,n.state=le,n.resetErrorBoundary=function(){for(var c,a=arguments.length,p=new Array(a),l=0;l<a;l++)p[l]=arguments[l];n.props.onReset==null||(c=n.props).onReset.apply(c,p),n.reset()},n}t.getDerivedStateFromError=function(o){return{error:o}};var r=t.prototype;return r.reset=function(){this.setState(le)},r.componentDidCatch=function(o,u){var s,c;(s=(c=this.props).onError)==null||s.call(c,o,u)},r.componentDidUpdate=function(o,u){var s=this.state.error,c=this.props.resetKeys;if(s!==null&&u.error!==null&&Ue(o.resetKeys,c)){var a,p;(a=(p=this.props).onResetKeysChange)==null||a.call(p,o.resetKeys,c),this.reset()}},r.render=function(){var o=this.state.error,u=this.props,s=u.fallbackRender,c=u.FallbackComponent,a=u.fallback;if(o!==null){var p={error:o,resetErrorBoundary:this.resetErrorBoundary};if(w.isValidElement(a))return a;if(typeof s=="function")return s(p);if(c)return w.createElement(c,p);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(w.Component);const Ye=({bloc:e,fallback:t,onReset:r,children:n})=>{const o=D(e),u=d.useCallback(()=>r(o),[o]);return B.jsx(ze,{FallbackComponent:t,onReset:u,children:n})},Je=({repository:e,children:t,dependencies:r=[],create:n,onMount:o,onUnmount:u})=>Z({classDef:e,dependencies:r,onMount:o,onUnmount:u,create:n,children:t}),Qe=({providers:e,children:t})=>ee({providers:e,children:t});function me({bloc:e,builder:t,buildWhen:r}){const n=D(e),o=r??ve,u=d.useRef(null),[s,c]=d.useState(()=>n.state);return d.useLayoutEffect(()=>(u.current=n.state$.pipe(_.startWith(s),_.pairwise(),_.filter(([a,p])=>o(a,p)),_.map(([a,p])=>c(p))).subscribe(),()=>{var a;(a=u.current)==null||a.unsubscribe(),u.current=null}),[]),t(s)}function Xe({bloc:e,builder:t,buildWhen:r,listenWhen:n,listener:o}){return Q(e,{listener:o,listenWhen:n}),me({bloc:e,builder:t,buildWhen:r})}exports.BlocBuilder=me;exports.BlocConsumer=Xe;exports.BlocErrorBoundary=Ye;exports.BlocListener=Pe;exports.BlocProvider=Fe;exports.BlocRenderError=Ee;exports.MultiBlocProvider=He;exports.MultiProvider=ee;exports.MultiRepositoryProvider=Qe;exports.Provider=Z;exports.RepositoryProvider=Je;exports.RootProvider=Ne;exports.clientContextMap=Oe;exports.contextMapContext=P;exports.defaultBuildWhen=ve;exports.defaultErrorWhen=de;exports.defaultListenWhen=A;exports.defaultSelector=pe;exports.defaultSuspendWhen=fe;exports.use=he;exports.useBloc=Ve;exports.useBlocInstance=D;exports.useBlocListener=Q;exports.useBlocSelector=_e;exports.useBlocValue=je;exports.useIsomorphicLayoutEffect=I;exports.usePropListener=Ie;exports.useProvider=J;exports.useRepository=Ae;
