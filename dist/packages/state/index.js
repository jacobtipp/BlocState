"use strict";var c=Object.defineProperty;var l=(r,s,t)=>s in r?c(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var n=(r,s,t)=>(l(r,typeof s!="symbol"?s+"":s,t),t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("immer");var d;class o{constructor(){n(this,d,!0);n(this,"name",this.constructor.name)}copyWith(s){return a(this,s)}}d=a.immerable;class u extends o{constructor(t,i,e){super();n(this,"status");n(this,"error");n(this,"isStateInstance",!0);n(this,"data");this.data=t,this.status=i??"initial",this.error=e}produceWithData(t,i){return i==null?a(this,e=>{e.status=t,e.error=void 0}):typeof i=="function"?a(this,e=>{e.status=t,e.error=void 0,e.data=a(e.data,i)}):a(this,e=>{e.error=void 0,e.status=t,e.data=a(e.data,()=>i)})}loading(){return a(this,t=>{t.status="loading",t.error=void 0})}ready(t){return this.produceWithData("ready",t)}failed(t){return a(this,i=>{i.status="failed",i.error=t})}}const h=r=>r instanceof u||!!r.isStateInstance;exports.BaseState=o;exports.State=u;exports.isStateInstance=h;
